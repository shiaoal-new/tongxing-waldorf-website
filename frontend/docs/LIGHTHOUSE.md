# Lighthouse æ€§èƒ½è¯„ä¼°è„šæœ¬

è¿™ä¸ªè„šæœ¬ç”¨äºå¯¹ç½‘ç«™çš„å„ä¸ªé¡µé¢è¿›è¡Œ Lighthouse æ€§èƒ½è¯„ä¼°ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- âœ… æ”¯æŒè¯„ä¼°å•ä¸ªæˆ–å¤šä¸ªé¡µé¢
- âœ… æ”¯æŒè¯„ä¼°æ‰€æœ‰é¢„å®šä¹‰é¡µé¢
- âœ… ç”Ÿæˆ JSON å’Œ HTML æ ¼å¼çš„è¯¦ç»†æŠ¥å‘Š
- âœ… è‡ªåŠ¨ç”Ÿæˆ Markdown æ ¼å¼çš„æ‘˜è¦æŠ¥å‘Š
- âœ… è¯„ä¼°æ€§èƒ½ã€å¯è®¿é—®æ€§ã€æœ€ä½³å®è·µå’Œ SEO
- âœ… æ‰€æœ‰æŠ¥å‘Šä¿å­˜åœ¨ `measurement_result` ç›®å½•

## ä½¿ç”¨æ–¹æ³•

### 1. è¯„ä¼°æ‰€æœ‰é¡µé¢

```bash
npm run lighthouse
# æˆ–
npm run lighthouse:all
```

è¿™å°†è¯„ä¼°ä»¥ä¸‹æ‰€æœ‰é¡µé¢:
- `/` (é¦–é¡µ)
- `/about` (å…³äºæˆ‘ä»¬)
- `/chronology` (å‘å±•å†ç¨‹)
- `/rhythm-of-life` (ç”Ÿæ´»èŠ‚å¥)
- `/teachers` (å¸ˆèµ„å›¢é˜Ÿ)
- `/questionnaire` (é—®å·è°ƒæŸ¥)
- `/contact` (è”ç³»æˆ‘ä»¬)

### 2. è¯„ä¼°ç‰¹å®šé¡µé¢

```bash
# è¯„ä¼°é¦–é¡µ
npm run lighthouse -- /

# è¯„ä¼°å¤šä¸ªé¡µé¢
npm run lighthouse -- / /about /teachers
```

### 3. è‡ªå®šä¹‰åŸºç¡€ URL

é»˜è®¤æƒ…å†µä¸‹,è„šæœ¬ä¼šè¯„ä¼° `http://localhost:3000`ã€‚å¦‚æœéœ€è¦è¯„ä¼°å…¶ä»–ç¯å¢ƒ:

```bash
# è¯„ä¼°å¼€å‘ç¯å¢ƒ
LIGHTHOUSE_URL=https://dev.example.com npm run lighthouse

# è¯„ä¼°ç”Ÿäº§ç¯å¢ƒ
LIGHTHOUSE_URL=https://tongxing-waldorf-website.web.app npm run lighthouse
```

## è¾“å‡ºæ–‡ä»¶

æ‰€æœ‰æŠ¥å‘Šéƒ½ä¿å­˜åœ¨ `frontend/measurement_result/` ç›®å½•ä¸‹:

### JSON æŠ¥å‘Š
- æ–‡ä»¶åæ ¼å¼: `lighthouse_[é¡µé¢å]_[æ—¥æœŸ].report.json`
- åŒ…å«å®Œæ•´çš„ Lighthouse è¯„ä¼°æ•°æ®
- å¯ç”¨äºç¨‹åºåŒ–åˆ†æ

### ç²¾ç®€ç‰ˆ JSON æŠ¥å‘Š (æ¨èç”¨äº AI åˆ†æ)
- æ–‡ä»¶åæ ¼å¼: `lighthouse_[é¡µé¢å]_[æ—¥æœŸ].compact.json`
- ç§»é™¤äº† base64 ç¼–ç çš„æˆªå›¾æ•°æ®
- æ–‡ä»¶ä½“ç§¯å¤§å¹…ç¼©å°(é€šå¸¸å‡å°‘ 80-90%),èŠ‚çœ LLM token
- ä¿ç•™äº†æ‰€æœ‰æ€§èƒ½ã€å¯è®¿é—®æ€§ç­‰è¯„ä¼°æ•°æ®

### HTML æŠ¥å‘Š
- æ–‡ä»¶åæ ¼å¼: `lighthouse_[é¡µé¢å]_[æ—¥æœŸ].html`
- å¯åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æŸ¥çœ‹
- åŒ…å«è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡å’Œä¼˜åŒ–å»ºè®®

### æ‘˜è¦æŠ¥å‘Š
- æ–‡ä»¶åæ ¼å¼: `lighthouse_summary_[æ—¥æœŸ].md`
- Markdown æ ¼å¼çš„æ±‡æ€»æŠ¥å‘Š
- åŒ…å«æ‰€æœ‰è¯„ä¼°é¡µé¢çš„åˆ†æ•°å¯¹æ¯”

## è¯„ä¼°æŒ‡æ ‡

è„šæœ¬ä¼šè¯„ä¼°ä»¥ä¸‹å››ä¸ªç±»åˆ«:

1. **æ€§èƒ½ (Performance)**: é¡µé¢åŠ è½½é€Ÿåº¦å’Œè¿è¡Œæ—¶æ€§èƒ½
2. **å¯è®¿é—®æ€§ (Accessibility)**: ç½‘ç«™å¯¹æ®‹éšœç”¨æˆ·çš„å‹å¥½ç¨‹åº¦
3. **æœ€ä½³å®è·µ (Best Practices)**: æ˜¯å¦éµå¾ª Web å¼€å‘æœ€ä½³å®è·µ
4. **SEO**: æœç´¢å¼•æ“ä¼˜åŒ–ç¨‹åº¦

æ¯ä¸ªç±»åˆ«çš„åˆ†æ•°èŒƒå›´ä¸º 0-100:
- 90-100: ä¼˜ç§€ (ç»¿è‰²)
- 50-89: éœ€è¦æ”¹è¿› (æ©™è‰²)
- 0-49: å·® (çº¢è‰²)

## æ³¨æ„äº‹é¡¹

1. **ç¡®ä¿å¼€å‘æœåŠ¡å™¨è¿è¡Œ**: å¦‚æœè¯„ä¼°æœ¬åœ°ç¯å¢ƒ,è¯·å…ˆè¿è¡Œ `npm run dev`
2. **Lighthouse ä¾èµ–**: è„šæœ¬ä½¿ç”¨ `npx lighthouse`,é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨å®‰è£…
3. **è¯„ä¼°æ—¶é—´**: æ¯ä¸ªé¡µé¢çš„è¯„ä¼°å¤§çº¦éœ€è¦ 30-60 ç§’
4. **Chrome ä¾èµ–**: Lighthouse éœ€è¦ Chrome/Chromium æµè§ˆå™¨

## ç¤ºä¾‹è¾“å‡º

```
ğŸš€ å¼€å§‹ Lighthouse è¯„ä¼°

ğŸ“ åŸºç¡€ URL: http://localhost:3000
ğŸ“ è¾“å‡ºç›®å½•: /path/to/measurement_result

ğŸ“Š è¯„ä¼°æ‰€æœ‰é¡µé¢...

ğŸ” æ­£åœ¨è¯„ä¼°: http://localhost:3000/
âœ… å®Œæˆ: /
   JSON æŠ¥å‘Š: measurement_result/lighthouse_index_2026-01-23.json
   HTML æŠ¥å‘Š: measurement_result/lighthouse_index_2026-01-23.html

ğŸ” æ­£åœ¨è¯„ä¼°: http://localhost:3000/about
âœ… å®Œæˆ: /about
   JSON æŠ¥å‘Š: measurement_result/lighthouse_about_2026-01-23.json
   HTML æŠ¥å‘Š: measurement_result/lighthouse_about_2026-01-23.html

...

ğŸ“„ æ‘˜è¦æŠ¥å‘Šå·²ç”Ÿæˆ: measurement_result/lighthouse_summary_2026-01-23.md

âœ¨ æ‰€æœ‰è¯„ä¼°å®Œæˆï¼
```

## æ·»åŠ æ–°é¡µé¢

è¦æ·»åŠ æ–°é¡µé¢åˆ°è¯„ä¼°åˆ—è¡¨,ç¼–è¾‘ `scripts/lighthouse-audit.js` ä¸­çš„ `ALL_PAGES` æ•°ç»„:

```javascript
const ALL_PAGES = [
  '/',
  '/about',
  '/your-new-page',  // æ·»åŠ æ–°é¡µé¢
];
```

## æ•…éšœæ’é™¤

### é—®é¢˜: è¯„ä¼°å¤±è´¥,æ˜¾ç¤ºè¿æ¥é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ (`npm run dev`)

### é—®é¢˜: Chrome æœªæ‰¾åˆ°
**è§£å†³æ–¹æ¡ˆ**: å®‰è£… Chrome æˆ– Chromium æµè§ˆå™¨

### é—®é¢˜: æƒé™é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ `measurement_result` ç›®å½•æœ‰å†™å…¥æƒé™

## ç›¸å…³èµ„æº

- [Lighthouse å®˜æ–¹æ–‡æ¡£](https://developers.google.com/web/tools/lighthouse)
- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://web.dev/performance/)
- [å¯è®¿é—®æ€§æŒ‡å—](https://web.dev/accessibility/)
