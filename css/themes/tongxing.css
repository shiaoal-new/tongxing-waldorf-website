@font-face {
    font-family: kurewa-gothic;
    src: url(https://cdn.jsdelivr.net/gh/max32002/kurewa-gothic@1.071/webfont/CJK%20TC/KurewaGothicCjkTc-Regular.woff2) format("woff2");
    size-adjust: 110%;
}

@font-face {
    font-family: 'ChenYuluoyan';
    src: url('/fonts/ChenYuluoyan-2.0-Thin.ttf') format('truetype');
    size-adjust: 150%;
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

@layer components {

    [data-theme="tongxing"] {
        --font-body: "kurewa-gothic", sans-serif;
        --font-accent: "ChenYuluoyan", cursive;

        --font-heading: "ChenYuluoyan", cursive;

        /* Yellow Frame Background */
        & .yellow-frame {
            position: relative;
            padding: 2rem;

            &::before {
                content: '';
                position: absolute;
                top: .5rem;
                left: .5rem;
                right: .5rem;
                bottom: .5rem;
                /* background-image: url('/img/themes/tongxing/background/yellow-frame.webp'); */
                background-size: 100% 100%;
                background-repeat: no-repeat;
                z-index: -1;
                pointer-events: none;
                filter: hue-rotate(var(--frame-hue, 0deg));
            }
        }

        /* Page Texture Background */
        & .bg-page-texture {
            background-image: url('/img/themes/tongxing/background/background.webp');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }


        /* Navbar Blend Mode */
        & .navbar-container {

            /* mix-blend-mode: multiply; */
            /* background-image: url('/img/themes/tongxing/background/menu-bg.png');
            background-size: 100% 100%; */

            /* mask-image: url('/img/themes/tongxing/background/menu-bg.png');
            mask-size: 100% 100%; */
            &::before {
                content: "";
                position: absolute;
                inset: 0;
                /* backdrop-filter 模糊背后的内容 */
                backdrop-filter: blur(16px) brightness(1.2);
                /* 使用背景图片作为遮罩效果 */
                /* background-image: url('/img/themes/tongxing/background/menu-bg.png'); */
                /* background-size: 100% 100%; */
                /* background-blend-mode: multiply;
                mask-image: url('/img/themes/tongxing/background/menu-bg.png');
                mask-size: 100% 100%; */
                /* 半透明背景让 backdrop-filter 效果可见 */
                /* background-color: rgba(255, 255, 255, 0.1); */
                pointer-events: none;
                z-index: 0;
                /* 在内容下方但在背景上方 */
            }
        }


        & .nav__item>a,
        & .nav__item button {
            position: relative;
            z-index: 1;
            transition: transform 0.2s ease;

            &:hover {
                transform: translateY(-1px);
                color: var(--brand-accent);
            }
        }

        /* Dark Mode specific variants */
        &.dark .bg-page-texture,
        & .dark .bg-page-texture {
            background-image: linear-gradient(rgba(13, 13, 13, 0.85), rgba(13, 13, 13, 0.85)), url('/img/themes/tongxing/background/background.webp');
        }

        &.dark .hidden.lg\:flex ul::before,
        & .dark .hidden.lg\:flex ul::before {
            mix-blend-mode: screen;
            filter: invert(1) brightness(1.5);
            opacity: 0.4;
        }

        & .benefits-media-img {
            mix-blend-mode: multiply;
        }

        & .benefit-container {
            position: relative;
            /* z-index: 2; */
            padding: 1rem;
            /* 性能优化:限制重绘范围 */
            contain: layout style paint;


            &::before {
                content: '';
                position: absolute;
                inset: 0;
                opacity: .2;
                /* backdrop-filter: blur(4px); */
                z-index: -1;
                /* height: 100%; */
                /* border-width: 8px; */
                /* border-style: solid; */
                border-radius: 20px;
                /*border-color: rgb(var(--color-brand-blue));
                */
                /* background-color: rgb(var(--color-brand-blue)); */

                background: linear-gradient(172deg, rgb(var(--color-brand-blue)) 0%, rgb(var(--color-brand-taupe)) 100%);
                /* filter: url(#watercolor-v2); */

                /* 性能优化:提示浏览器预优化并强制 GPU 加速 */
                /* will-change: filter;
                transform: translateZ(0); */
                backface-visibility: hidden;
            }
        }

        & .benefit-icon-container {
            position: relative;
        }

        & .benefit-icon-container::before {
            content: "";
            background-color: rgb(var(--color-brand-blue));
            background-size: 100% 100%;
            border-radius: 50%;
            position: absolute;
            inset: 0;
            z-index: -1;
            filter: url(#watercolor-v2);
        }



        /* Button Watercolor Effect - 按鈕水彩效果 */
        & .btn {
            position: relative;
            /* overflow: hidden; */
            z-index: 1;

            /* 創建背景層並套用濾鏡 */
            &::before {
                content: "";
                position: absolute;
                inset: 0;
                background: inherit;
                border-radius: 20px;
                z-index: -1;

                filter: url(#watercolor-v2);
            }

            /* 確保文字在上層,不受濾鏡影響 */
            &>* {
                position: relative;
                z-index: 2;
            }
        }

        /* SVG Filters 使用说明
         * watercolor-v2 滤镜已在 components/svgFilters.js 中定义
         * 使用方法: filter: url(#watercolor-v2);
         * 示例:
         * & .some-element {
         *     filter: url(#watercolor-v2);
         * }
         */
    }
}