@font-face {
    font-family: kurewa-gothic;
    src: url(https://cdn.jsdelivr.net/gh/max32002/kurewa-gothic@1.071/webfont/CJK%20TC/KurewaGothicCjkTc-Regular.woff2) format("woff2");
}

@layer components {

    [data-theme="tongxing"] {
        --font-body: "kurewa-gothic", sans-serif;
        --font-accent: "ChenYuluoyan", cursive;

        --font-heading: "ChenYuluoyan", cursive;

        /* Yellow Frame Background */
        & .yellow-frame {
            position: relative;
            padding: 2rem;

            &::before {
                content: '';
                position: absolute;
                top: .5rem;
                left: .5rem;
                right: .5rem;
                bottom: .5rem;
                background-image: url('/img/themes/tongxing/background/yellow-frame.webp');
                background-size: 100% 100%;
                background-repeat: no-repeat;
                z-index: -1;
                pointer-events: none;
                filter: hue-rotate(var(--frame-hue, 0deg));
            }
        }

        /* Page Texture Background */
        & .bg-page-texture {
            background-image: url('/img/themes/tongxing/background/background.webp');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Navbar Blend Mode */
        & .navbar-container {

            /* mix-blend-mode: multiply; */
            /* background-image: url('/img/themes/tongxing/background/menu-bg.png');
            background-size: 100% 100%; */

            /* mask-image: url('/img/themes/tongxing/background/menu-bg.png');
            mask-size: 100% 100%; */
            &::before {
                content: "";
                position: absolute;
                inset: 0;
                background-image: url('/img/themes/tongxing/background/menu-bg.png');
                background-size: 100% 100%;
                /* 只對背景套用濾鏡 */
                /* filter: blur(1px); */
                /* backdrop-filter: blur(8px); */
                opacity: .8;

                /* 建議將背景稍微放大，避免模糊後邊緣出現白邊 */
                /* transform: scale(1.2); */

                background-color: rgba(255, 255, 255, 0.01);

                z-index: -1;
                /* 確保背景在文字下方 */
            }
        }

        /* Header Menu Items Watercolor Effect - Shared Background */
        & .hidden.lg\:flex ul {
            position: relative;
            padding: 0.25rem 1.5rem;
            margin-right: -1rem;

            &::before {
                content: '';
                position: absolute;
                inset: 0 -1rem;
                background-image: url('/img/themes/tongxing/background/horizontal-menu-bg.webp');
                background-size: 100% 100%;
                background-repeat: no-repeat;
                background-position: center;
                z-index: -1;
                mix-blend-mode: multiply;
                opacity: 1;
                pointer-events: none;

                mask-mode: luminance;
                mask-image: url('/img/themes/tongxing/background/horizontal-menu-bg.webp');
                mask-size: 100% 100%;
            }
        }

        & .nav__item>a,
        & .nav__item button {
            position: relative;
            z-index: 1;
            transition: transform 0.2s ease;

            &:hover {
                transform: translateY(-1px);
                color: var(--brand-accent);
            }
        }

        /* Dark Mode specific variants */
        &.dark .bg-page-texture,
        & .dark .bg-page-texture {
            background-image: linear-gradient(rgba(13, 13, 13, 0.85), rgba(13, 13, 13, 0.85)), url('/img/themes/tongxing/background/background.webp');
        }

        &.dark .hidden.lg\:flex ul::before,
        & .dark .hidden.lg\:flex ul::before {
            mix-blend-mode: screen;
            filter: invert(1) brightness(1.5);
            opacity: 0.4;
        }

        & .benefits-media-img {
            mix-blend-mode: multiply;
        }
    }
}