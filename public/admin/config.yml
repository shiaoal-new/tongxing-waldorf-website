# public/admin/config.yml

backend:
  name: git-gateway
  branch: main # 您的 GitHub 主分支名稱
  repo: shiaoal-new/tongxing-waldorf-website
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/27311aef-1c33-409a-933f-6cca0b9ea1af/pkce
  auth_token_endpoint: /sites/27311aef-1c33-409a-933f-6cca0b9ea1af/token
  gateway_url: https://gateway.decapbridge.com

  commit_messages:
    create: Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

  # 啟用或禁用文件鎖定 (可選，用於多人編輯)
  # enable_rollback: true 

local_backend: true # 只有在本地執行 npx decap-server 時會生效

# Enable PKCE fields (optional, recommended)
auth:
  email_claim: email
  first_name_claim: first_name
  last_name_claim: last_name
  avatar_url_claim: avatar_url

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://tongxing-waldorf-website-dev.web.app



# 您的網站部署位置，用於預覽功能
local_backend: true 

publish_mode: editorial_workflow # 啟用草稿/審核流程 (可選)

media_folder: "public/img/uploads" # 媒體檔案儲存位置（相對路徑）
public_folder: "./img/uploads"     # 網站上可訪問的媒體路徑


collections:
  - name: "faculty"
    label: "教職員名單"
    folder: "src/data/faculty" # 建議將此列表資料存放在專門的資料夾
    delete: true               # 允許管理者刪除教職員
    create: true               # 允許管理者新增教職員
    identifier_field: name     # 在列表上以教職員姓名作為主要識別
    fields:
      - { label: "姓名", name: "name", widget: "string", required: true }
      - { label: "職稱", name: "title", widget: "string", required: true } # 教授、講師、行政人員
      - { label: "頭像", name: "photo", widget: "image", required: false } # 圖片上傳
      - { label: "電子郵件", name: "email", widget: "email", required: false }
      - { label: "辦公室分機", name: "extension", widget: "string", required: false }
      - { label: "簡介/專長", name: "bio", widget: "markdown", required: false } # 使用 Markdown 編輯器輸入較長的介紹
      - label: "專業領域"
        name: "expertise"
        widget: "list"         # 這裡使用 list widget 來允許輸入多個領域
        fields:
          - { label: "領域名稱", name: "area", widget: "string" }
      - { label: "顯示順序", name: "order", widget: "number", value_type: "int", min: 0 } # 用於前端排序，數字越小越前面
  
  - name: "faq"
    label: "常見問答"
    folder: "src/data/faq"
    delete: true
    create: true
    identifier_field: question
    fields:
      - { label: "問題", name: "question", widget: "string", required: true }
      - { label: "答案", name: "answer", widget: "markdown", required: true }
      - { label: "顯示順序", name: "order", widget: "number", value_type: "int", min: 0, default: 0 }
  
  - name: "benefits"
    label: "教育特色 (Benefits)"
    folder: "src/data/benefits"
    create: true
    delete: true
    identifier_field: title
    fields:
      - { label: "標題", name: "title", widget: "string", required: true }
      - { label: "描述", name: "desc", widget: "text", required: true }
      - { label: "圖片", name: "image", widget: "image", required: false }
      - { label: "Lottie 動畫連結", name: "lottie", widget: "string", required: false }
      - label: "特點列表"
        name: "bullets"
        widget: "list"
        fields:
          - { label: "標題", name: "title", widget: "string", required: true }
          - { label: "描述", name: "desc", widget: "text", required: true }
          - label: "圖示 (Iconify ID)"
            name: "icon"
            widget: "string"
            hint: "請輸入 Iconify 圖標 ID，例如 'mdi:heart' 或 'lucide:sparkles'。可至 https://icon-sets.iconify.design/ 搜尋。"
            required: true
      - { label: "排序", name: "order", widget: "number", value_type: "int", default: 0 }